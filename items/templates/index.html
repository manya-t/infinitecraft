{% extends "layout.html" %}

{% block body %}
    <h1>Infinite Craft</h1>
    <form class="form-inline" action="{% url 'index' %}" method="post">
        {% csrf_token %}
        <div class="form-group mx-sm-3 mb-2">
            <input class="form-control" type="text" placeholder="First input" name="first_input" required>
        </div>
        <div class="form-group mx-sm-3 mb-2">
            <input class="form-control" type="text" placeholder="Second input" name="second_input" required>
        </div>
        <div class="form-group mx-sm-3 mb-2">
            <input class="form-control" type="text" placeholder="Output" name="output" required>
        </div>
        <div class="form-check mx-sm-3 mb-2">
            <input class="form-check-input" type="checkbox" value="" name="isNonsense">
            <label class="form-check-label" for="isNonsense">Is the result nonsense?</label>
        </div>
        <button type="submit" class="btn btn-primary mb-2" id="submitNew">Submit</button>
    </form>
    <div class="alert alert-success" role="alert">
        {{message|safe}}
      </div>      
    <table class="table table-striped table-hover table-sm">
        <thead style="position: sticky;top:0">
            <tr class="table-primary">
                <th scope="col">First Input</th>
                <th scope="col">Second Input</th>
                <th scope="col">Output</th>
                <th scope="col">Updated on</th>
            </tr>
        </thead>
        <tbody>
            {% for tr in page %}
                <tr>
                    {% if tr.first_input.isReal %}
                        <td>
                    {% else %}
                        <td class="table-secondary">
                    {% endif %}
                        <a href="{% url 'item' tr.first_input.id  %}">{{tr.first_input.name}} ({{tr.first_input.tier}})</a></td>

                    {% if tr.second_input.isReal %}
                        <td>
                    {% else %}
                        <td class="table-secondary">
                    {% endif %}
                        <a href="{% url 'item' tr.second_input.id  %}">{{tr.second_input.name}} ({{tr.second_input.tier}})</a></td>

                    {% if tr.output.isReal %}
                        <td>
                    {% else %}
                        <td class="table-secondary">
                    {% endif %}
                        <a href="{% url 'item' tr.output.id  %}">{{tr.output.name}} ({{tr.output.tier}})</a></td>
                        <td>{{tr.timeUpdated|date:"M j, g:i a"}}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}